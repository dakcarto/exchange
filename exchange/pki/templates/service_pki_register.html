{% extends "services/service_register.html" %}
{% load bootstrap_tags %}
{% load i18n %}

{% block extra_script %}
{{ block.super }}
<script type="text/javascript">
$(document).ready(function () {
    // Disable ssl_config select by default
    $('#id_ssl_config').prop('disabled', true);

    // detecting any change to the service URL input field
    $('#id_url').on("change keyup paste", function(){
        // if user entered https into service URL
        var service_url = $('#id_url').val();

        // enable the ssl_config field when the service URL field
        // begins with https, and disable it when it no longer does
        if (service_url.startsWith('https')) {
            console.log('we should enable now');
            $('#id_ssl_config').prop('disabled', false);
        } else {
            console.log('we should disable now');
            $('#id_ssl_config').prop('disabled', true);
        }
    });
})
</script>
{% endblock %}